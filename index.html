<!doctype html>
<html ng-app="MyModule">
<head>
  <title>Liste de produits</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/product.css">
</head>
<body>

<div class="container" ng-controller="ProductsCtrl">
    <div class="row">
        <div class="page-header">
            <div class="span9">
                <h1>List of products</h1>
            </div>
            <div class="span3">
                <input class="pull-right" type="text" ng-model="search" placeholder="Search a product">
                <input class="pull-right" type="number" ng-model="limitToNumber" placeholder="Limit To">
            </div>
        </div>
    </div>
    <div class="row">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>
                    Name
                    <button class="btn btn-default btn-small" ng-click="predicate = 'name'">Name ASC</button>
                    <button class="btn btn-default btn-small" ng-click="predicate = '-name'">Name DESC</button>
                </th>
                <th>Description</th>
                <th>
                    Price
                    <button class="btn btn-default btn-small" ng-click="predicate = 'price'">Price ASC</button>
                    <button class="btn btn-default btn-small" ng-click="predicate = '-price'">Price DESC</button>
                </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="product in products | filter:search | limitTo:limitToNumber | orderBy:predicate">
                <td class="table-content"><strong>{{ product.name }}</strong></td>
                <td class="table-content">{{ product.desc }}</td>
                <td class="table-content">{{ product.price }}</td>
                <td>
                    <button class="btn btn-warning btn-small" ng-click="editProduct($index)">edit</button>
                    <button class="btn btn-danger btn-small" ng-click="deleteProduct($index)">delete</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="row form-inline">
        <input type="text" ng-model="product.name" placeholder="Name">
        <input type="text" ng-model="product.desc" placeholder="Description">
        <input type="text" ng-model="product.price" placeholder="Price">
        <button ng-hide="edit" class="btn btn-success" ng-click="addProduct()">Add product</button>
        <button ng-show="edit" class="btn btn-success" ng-click="updateProduct()">Save</button>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.min.js"></script>
<script src="app/app.js"></script> <!-- L'ORDRE EST IMPORTANT !!! -->
<script src="app/models.js"></script>
<script src="app/controller.js"></script>
</body>
</html>
